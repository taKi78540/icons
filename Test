Tr√®s bonne pr√©cision üëç
Tu fais bien de l‚Äôajouter : c‚Äôest une r√®gle de cadrage fonctionnel importante, √† la fois pour les devs, la s√©curit√© des donn√©es et la coh√©rence multi-comptoirs.

Voici la version mise √† jour de la User Story 7, en anglais, pr√™te √† remplacer celle existante dans Jira.

‚∏ª

üü¶ US7 ‚Äì Mandatory stockroom selection based on desk settings

User Story

As a coach
I want to select a stockroom from a predefined list configured for my desk
So that returned equipments are stored in an authorized and properly configured location

‚∏ª

Description

On the equipment details screen (Step 1 ‚Äì Select Equipments), the stockroom field allows the coach to select the physical location where the returned equipment will be stored.

The list of available stockrooms:
	‚Ä¢	comes exclusively from the desk (Le Comptoir) settings
	‚Ä¢	is configured beforehand by the desk manager in the Settings view
	‚Ä¢	is specific to each desk

This ensures that:
	‚Ä¢	only authorized stockrooms can be selected
	‚Ä¢	the return process is constrained by local configuration
	‚Ä¢	stockroom selection is consistent across all returns for the same desk

‚∏ª

Business Rules
	1.	Stockroom source
	‚Ä¢	The dropdown values are loaded from the stockrooms configured in the desk settings
	‚Ä¢	No free-text or external stockroom selection is allowed
	2.	Single stockroom
	‚Ä¢	If the desk has only one stockroom configured:
	‚Ä¢	it is automatically selected
	‚Ä¢	the field is read-only (disabled)
	3.	Multiple stockrooms
	‚Ä¢	If the desk has multiple stockrooms configured:
	‚Ä¢	the field is displayed as a mandatory dropdown
	‚Ä¢	the coach must select one before validation

‚∏ª

Acceptance Criteria (Gherkin)

GIVEN I am on the equipment details screen
THEN the stockroom dropdown is populated only with stockrooms configured in the desk settings

GIVEN the desk has exactly one stockroom configured
WHEN the screen is displayed
THEN the stockroom is auto-selected
AND the field is disabled

GIVEN the desk has multiple stockrooms configured
WHEN the screen is displayed
THEN the stockroom field is empty
AND selecting a stockroom is mandatory

WHEN no stockroom is selected (in multi-stockroom case)
THEN the VALIDATE button remains disabled


‚∏ª

Dependencies
	‚Ä¢	Desk configuration / Settings module
	‚Ä¢	Stockroom list maintained by the desk manager

‚∏ª

Business Value
	‚Ä¢	Ensures data consistency across desks
	‚Ä¢	Prevents incorrect stockroom assignments
	‚Ä¢	Aligns the return process with local operational setup
	‚Ä¢	Enables scalable multi-desk deployment

‚∏ª

üëâ Tu peux remplacer directement l‚Äôancienne US7 par celle-ci dans Jira.

Si tu veux, au prochain message, je peux :
	‚Ä¢	v√©rifier toutes les US du Step 1 pour m‚Äôassurer qu‚Äôelles sont 100 % coh√©rentes entre elles,
	‚Ä¢	ou t‚Äôaider √† documenter la vue Settings (stockroom configuration) comme une EPIC √† part.
