Voici une User Story complète et structurée pour cette fonctionnalité :

⸻

Titre : Réaffectation d’un badge en cas d’erreur ou de changement de propriétaire

En tant que visiteur,
Je veux pouvoir réaffecter un badge à mon propre UID si celui-ci a été attribué par erreur à une autre personne,
Afin de garantir que l’enregistrement de ma visite soit correctement rattaché à mon identité.

⸻

Critères d’acceptation :
	1.	Détection de badge déjà associé :
Lorsqu’un badge est scanné sur la tablette après la sélection d’un motif de visite, si ce badge est déjà associé à un UID existant, une page de confirmation s’affiche indiquant l’identité liée au badge.
	2.	Option de refus d’identité :
Si le visiteur indique que l’identité affichée n’est pas la sienne (ex. bouton “Ce n’est pas moi”), il est redirigé vers une page lui permettant de saisir manuellement son propre UID.
	3.	Réaffectation du badge :
Après saisie de l’UID, si la validation est confirmée, l’ancienne association badge/UID est supprimée et une nouvelle association est créée avec l’UID saisi.
	4.	Confirmation visuelle :
Un message de confirmation doit indiquer que la réaffectation a bien été prise en compte, avant de poursuivre le processus d’enregistrement habituel.
	5.	Auditabilité :
La réaffectation est loggée (ancien UID, nouveau UID, date/heure, identifiant du badge) à des fins d’audit interne.

⸻

Souhaites-tu que je t’écrive aussi la version technique (ex. : mise à jour de la base de données, API backend, sécurité) ou une version en anglais ?
