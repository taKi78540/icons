Voici une user story en anglais, rédigée dans un format Product Owner / Agile, prête à être intégrée dans un backlog (Jira, Azure DevOps, etc.).

⸻

User Story – Store ServiceNow Incident Category on Visit Closure

As a Product Owner / Service Manager
I want the category and sub-category of the related ServiceNow incident to be automatically retrieved when a visit is closed
So that the visit record stores these values and enables detailed analysis of visit reasons and treatment times in Power BI.

⸻

Description

When a visit at Le Comptoir results in the creation of a ServiceNow incident, the incident contains a category and a sub-category that describe the reason for the visit.

Upon visit closure, the application should:
	•	Retrieve the category and sub-category from the associated ServiceNow incident
	•	Store these values in the visit record (database table)

This data will later be used in Power BI to:
	•	Better categorize visit reasons
	•	Analyze treatment and handling times per category and sub-category
	•	Improve operational insights and decision-making

⸻

Acceptance Criteria
	•	Given a visit is linked to a ServiceNow incident
When the visit is closed
Then the system retrieves the incident category and sub-category from ServiceNow
	•	The retrieved category and sub-category are:
	•	Stored in dedicated fields in the visit table
	•	Persisted even if the ServiceNow ticket is later modified
	•	If no ServiceNow incident is linked to the visit:
	•	The visit can still be closed
	•	Category and sub-category fields remain empty or set to a default value
	•	The stored data is:
	•	Available in the reporting dataset
	•	Exploitable in Power BI for filtering, grouping, and time analysis

⸻

Business Value
	•	Enables fine-grained analysis of visit reasons
	•	Improves treatment time analysis by category
	•	Supports continuous improvement of support processes
	•	Strengthens data consistency between Le Comptoir and ServiceNow

⸻

Si tu veux, je peux aussi te proposer :
	•	une version plus technique (API / mapping / data model)
	•	une découpe en sous-user stories (backend, data, reporting)
	•	ou une formulation orientée financement / business case pour la roadmap 2025.
